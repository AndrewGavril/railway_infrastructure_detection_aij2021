РЖД: детекция препятствий и элементов дорожной инфраструктуры
=================================

Соревнование алгоритмов определения препятствий и элементов ЖД-инфраструктуры.  

Повышение безопасности ЖД перевозок является одним из ключевых пунктов в стратегии РЖД. Одним из способов повышения безопасности - создание интеллектуальных систем, предупреждающих машиниста о возможном столкновении с потенциально опасными объектами. В рамках соревнования требуется создать алгоритм, детектирующий такие объекты, а также определяющий элементы дорожной инфраструктуры, определяющие движение поезда - рельсы, стрелочные переводы и светофоры.  
В качестве входных данных используются RGB изображения, полученные с различных камер, установленных на электропоезде и аннотации к ним.

## Постановка задачи

На основе размеченных фотографий необходимо создать алгоритм детекции следующих объектов:
- Человек (Human);
- Поезд (Train);
- Вагон (Wagon);
- Автомобиль (Car);
- Светофор (Signal);
- Стрелочный перевод по ходу движения (FacingSwitch);
- Стрелочный перевод против хода движения (TrailingSwitch).
- 
Дополнительно требуется определить цвет сигнала светофора и положение остряка стрелочного перевода.  

Одновременно требуется разметить сегментационные маски для следующих элементов:
 - ЖД рельсы;
 - ЖД составы.


## Формат решения

В проверяющую систему необходимо отправить код алгоритма, запакованный в ZIP-архив. Решения запускаются в изолированном окружении при помощи Docker. Время и ресурсы во время тестирования ограничены. Участнику нет необходимости разбираться с технологией Docker.

### Содержимое контейнера

В корне архива обязательно должен быть файл metadata.json следующего содержания:
```json
{
    "image": "sberbank/rgd-python",
    "entry_point": "python detect_railway_objects.py $PATH_INPUT $PATH_OUTPUT/output.csv"
}
```

Здесь `image` — поле с названием docker-образа, в котором будет запускаться решение, `entry_point` — команда, при помощи которой запускается решение. Для решения текущей директорией будет являться корень архива. 

Во время запуска, в переменной окружения `DATASETS_PATH` расположен путь к актуальным открытым наборам данных, которые доступны из контейнера с решением.

Для запуска решений можно использовать существующие окружения:

- `sberbank/rgd-python` — Python3 с установленным большим набором библиотек
- `gcc` - для запуска компилируемых C/C++ решений
- `node` — для запуска JavaScript
- `openjdk` — для Java
- `mono` — для C#

Подойдет любой другой образ, доступный для загрузки из DockerHub. При необходимости, Вы можете подготовить свой образ, добавить в него необходимое ПО и библиотеки (см. инструкцию по созданию Docker-образов); для использования его необходимо будет опубликовать на DockerHub.

### Ограничения

Контейнер с решением запускается в следующих условиях:

- решению доступны ресурсы
  - 16 Гб оперативной памяти;
  - 4 vCPU;
  - 1 GPU Tesla V100.
- время на выполнение решения: 10 минут
- решение не имеет доступа к ресурсам интернета
- максимальный размер упакованного и распакованного архива с решением: 3 Гб
- максимальный размер используемого Docker-образа: 10 Гб

## Проверка качества

Качество решения оценивается на отложенной выборке из 1050 RGB изображений такого же формата как у тренировочных данных.

Метрики качества — panoptic quality, processing time. 

Участники сначала ранжируются по метрике panoptic quality, затем по метрике processing time.

Для финальной оценки можно выбрать 3 решения. По умолчанию это решения с наилучшей метрикой на public-лидерборде.
